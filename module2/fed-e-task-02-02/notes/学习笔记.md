**函数式变成**
1. react
2. vue3
3. 函数式可以抛弃this
4. 编程范式
5. y=f(x)
6. 相同的输入始终得到相同的输出

## 函数
+ 一等公民

## 高阶函数
+ 函数作为参数
+ 函数返回值为函数
+ 抽象通用问题

## 模拟高阶函数
1. map  every some

## 闭包
外部使用内部函数访问内部属性
## 纯函数
相同输入得到相同的输出 
1. 结果可缓存
2. 可测试
3. 并行处理 并行环境下可任意运行纯函数

## 非纯函数 副作用

lodash
配置文件 数据库 获取用户输入  
变得不在通用


## 柯里化
1. 一个函数有多个参数时先使用一部分参数
2. 剩下的参数作为新的函数作为返回值
# lodash的柯里化方法  _.curry

## 柯里化案例
1. string match
2. filter


## 柯里化总结
1. 多元函数到一元函数
2. 函数参数的缓存
3. 函数更灵活

## 函数组合
1. 管道
2. 中间函数合并成一个函数
3. 函数组合默认从右到左执行
4. lodash  函数组合 flowRight

## 组合函数原理
1. reduce reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。 

2. 函数结合律
    f,g,h


## lodash fp
函数优先 主句之后


## pointFree
1. 不需知名处理函数
2. 只需要合成运算过程


## 函子  Funcor
1. 特殊容器（值和值的变形关系）
2. map方法 对值进行处理
3. 普通对象

## MauBe 函子

## Either 函子
1. 两者中的一个  if else
2. 异常处理


## IO函子
1. _value是一个函数，这里把函数作为值来处理
2. 延迟


## Folktale
1. task TASK函子
2. Pointed 函子
    1. 实现了of 静态方法的函子
    2. of 是为了放到
3. monad函子
    1. 可以变扁的Pointed函子 IO(IO(X))





**性能优化**
1. 内存管理
    1.申请 使用 释放  内存空间

2. 垃圾回收
    1. 内存管理是自动的
    2. 对象不再引用时是垃圾
    3. 对象不能从跟上访问到就是垃圾

3. 可达对象
    1. 可以访问到的对象 引用 作用域链
    2. 可达的标准是从跟上能否被找到
    3. javascript中的根可以理解为全局变量对象



4. GC算法 垃圾回收机制
    1. 垃圾回收器完成具体工作
    2. 工作内容 是 查找释放空间 回收空间
    3. 算法是工作时查找和回收所遵循的规则


## 常见GC算法 引用计数 标记清除 标记整理 分代回收
1. 引用计数算法
    设置引用数 判断当前引用数是否为0
    引用计数器
    引用关系改变时修改引用数字
    引用数字为0时立即回收
    优点  发现垃圾立即回收 最大限度减少程序暂停
    缺点  无法回收循环引用的对象  时间开销大

2. 标记清除算法
    标记 清除 两个阶段
    遍历所有对象找标记活动对象
    遍历所有对象清除没有标记对象
    回收对应空间
    优点 
    缺点  容易碎片化空间
3. 标记整理算法
    减少碎片化空间



**V8引擎**
1. 主流javascript 执行引擎
2. 及时编译
3. V8内存设限

## V8垃圾回收策略
分代回收  新生代 老生代
不同对象采用不同算法

## V8常用GC算法
分代回收
空间复制
标记清除
标记整理
标记增量


## 内容分配 
一分为二
小空间用于存储新生代对象 32M|16M
存活时间较短的对象
## v8回收新生代对象
复制算法 标记整理
from 活动空间 -> to 空闲空间   空间换时间

交换空间后释放

拷贝过程 晋升  新生代移动到老生代 
一轮GC还存活的新生到需要晋升
T哦空间使用率超过25%

回收老生代对象
64位  1.4G  32位700M

标记清除  标记整理 增量标记

首先标记清除  标记整理空间优化  增量标记 效率优化
不适合复制算法

## performance 工具

## 内存问题表现

1. 页面延迟加载 经常暂停
2. 页面持续性糟糕性体验
3. 页面性能时间越长越差

## 监控内存

1. 内存泄漏 内存使用持续升高
2. 内存膨胀 在多数设备存在性能问题
3. 频繁垃圾回收 内存变化图分析

浏览器任务管理器   Timeline  堆快照  判断是否频繁垃圾回收

## 任务管理器监控


## 精准测试 javascript 性能
Jsperf

1. 慎用全局变量
2. 无法避免的全局变量缓存
3. 通过原型对象添加方法
4. 避开闭包陷阱
5. 避免属性访问方法使用
6. For循环优化  length获取一次
7. 选择最优循环方法  foreach> for >for in 
8. 优化节点添加  碎片添加
9. 直接量替换Object操作